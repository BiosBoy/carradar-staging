{"version":3,"file":"js/login.c5c63b28be07d907a086.js","mappings":"sIACA,SAAgB,OAAS,iBAAiB,OAAS,iBAAiB,EAAI,YAAY,EAAI,YAAY,EAAI,YAAY,UAAY,oBAAoB,WAAa,qBAAqB,WAAa,qBAAqB,WAAa,sBCSrO,QARa,SAAUA,GACnB,IAAIC,EAAUD,EAAGC,QAASC,EAAQF,EAAGE,MAAOC,EAAWH,EAAGG,SAAUC,EAAYJ,EAAGI,UAAWC,EAAWL,EAAGK,SAAUC,EAAON,EAAGM,KAC5HC,EAAa,kBAAoB,OAAQ,CAAEC,UAAW,aACtD,kBAAoB,OAAQ,MAC5B,kBAAoB,OAAQ,MAC5B,kBAAoB,OAAQ,OAChC,OAAQ,kBAAoB,SAAU,CAAEC,KAAM,SAAUJ,SAAUA,EAAUG,UAAW,GAAGE,OAAO,SAAe,KAAKA,OAAOP,EAAW,SAAgB,GAAI,KAAKO,OAAOJ,EAAO,EAAOA,GAAQ,IAAKL,QAASA,EAAS,aAAcC,GAAUE,EAAoBG,EAARL,K,0ICK5P,QAZiB,WAKb,MAAO,CACHS,cALgB,MAAO,qBAMvBC,MALQ,MAAO,0BAMfC,SALW,MAAO,6BAMlBC,OALS,MAAO,6B,cCJxB,QAA8F,oBAA9F,EAAmS,mBAAnS,EAAkW,sBAAlW,EAAgY,gBAAhY,EAAuZ,eAAvZ,EAAmb,qBAAnb,EAAgd,gBAAhd,EAA6e,qBAA7e,EAA0gB,gBCS1gB,IAAIC,GAAQ,IAAAC,OAAK,WACb,IAAIhB,EAAK,IAAcW,EAAgBX,EAAGW,cAAeC,EAAQZ,EAAGY,MAAOC,EAAWb,EAAGa,SAAUC,EAASd,EAAGc,OAC3GG,GAAM,IAAAC,QAAO,MACbC,GAAW,UACXC,GAAK,SAAY,SAAUpB,GAE3B,OADYA,EAAGqB,SAEfC,EAAWF,EAAGE,SAAUC,EAAWH,EAAGG,SAAUC,EAAeJ,EAAGI,aAAcC,EAAQL,EAAGK,MAC3FC,GAAK,SAAY,SAAU1B,GAE3B,OADUA,EAAG2B,OAEbC,EAAWF,EAAGE,SAAUC,EAASH,EAAGG,QACxC,IAAAC,YAAU,WAENC,OAAOC,gBAAiB,EACxBf,EAAIgB,QAAQC,UACb,KACH,IAAAJ,YAAU,WACFF,GACAT,GAAS,QAAK,GAAGT,QAAO,OAAcmB,GAAS,eAEpD,CAACD,IACJ,IAAIO,EAAe,SAAUnC,GACzB,IAAIoC,EAASpC,EAAGoC,OACZC,EAAKD,EAAOC,GAAIC,EAAQF,EAAOE,MACnCnB,GAAS,QAAc,CAAEkB,GAAIA,EAAIC,MAAOA,MAExCC,EAAgB,WAChBpB,GAAS,YAKTqB,EAAuB,SAAUC,GAClB,UAAfA,EAAMC,MAAoBH,KAE9B,OAAQ,kBAAoB,MAAO,CAAE/B,UAAW,GAC5C,kBAAoB,KAAM,CAAEA,UAAW,GAAmBG,GAC1D,kBAAoB,MAAO,CAAEH,UAAW,GACpC,kBAAoB,QAAS,CAAEmC,QAAS,WAAYnC,UAAW,GAAGE,OAAO,EAAa,KAAKA,OAAO,IAAsBE,GACxH,kBAAoB,QAAS,CAAEyB,GAAI,WAAYO,KAAM,WAAYnC,KAAM,OAAQQ,IAAKA,EAAKZ,SAAUmB,EAAchB,UAAW,EAAc8B,MAAOhB,EAAUuB,SAAUV,EAAcW,UAAWN,KAClM,kBAAoB,MAAO,CAAEhC,UAAW,GACpC,kBAAoB,QAAS,CAAEmC,QAAS,WAAYnC,UAAW,GAAGE,OAAO,EAAa,KAAKA,OAAO,IAAsBG,GACxH,kBAAoB,QAAS,CAAEwB,GAAI,WAAY7B,UAAW,EAAcH,SAAUmB,EAAcoB,KAAM,WAAYnC,KAAM,WAAY6B,MAAOf,EAAUsB,SAAUV,EAAcW,UAAWN,KAC5L,kBAAoBO,EAAA,EAAQ,CAAE9C,QAASsC,EAAelC,UAAWkB,IAAaD,EAAUlB,UAAWoB,EAAcrB,YAAaoB,IAAYD,GAAWpB,MAAOY,IAC5JW,GAAS,kBAAoB,OAAQ,CAAEjB,UAAW,GAAgBiB,GAClE,kBAAoB,MAAO,CAAEjB,UAAW,GACpC,kBAAoB,OAAQ,CAAEA,UAAW,GAAgB,8BACzD,kBAAoB,IAAuB,CAAEwC,SAlB3B,SAAUC,GAChC9B,GAAS,QAAc8B,YAmB/B,SAAe,QAAWlC,I,iEC3D1B,QAA4B,oBCD5B,IAAImC,EAAkC,SAAUC,EAAGC,GAC/C,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAgBA,KAAM,MAAQI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAElB,OAExE,MAAOb,GAASgC,EAAI,CAAEhC,MAAOA,GAC7B,QACI,IACQ+B,IAAMA,EAAEM,OAAST,EAAIK,EAAU,SAAIL,EAAEM,KAAKD,GAElD,QAAU,GAAID,EAAG,MAAMA,EAAEhC,OAE7B,OAAOmC,GAuCX,SAAe,IAAA5C,OAlCa,SAAUhB,GAClC,IAAIgD,EAAWhD,EAAGgD,SACd5B,EAAK8B,GAAO,IAAAc,UAAS,MAAO,GAAIf,EAAW7B,EAAG,GAAI6C,EAAc7C,EAAG,GA6BvE,OAAQ,kBAAoB,MAAO,CAAEZ,UAAW,GAC5C,kBAAoB,EAAA0D,aAAc,CAAEC,QAd7B,CACHC,MAAO,IACPC,OAAQ,GACRC,MAAO,QACPC,UAAW,SAAUC,GAnBP,IAAUC,EACxBC,EACAC,EAkBQ1B,GAGJD,GAtBJ0B,GADwBD,EAuBKD,GAtBRI,kBACrBD,EAAc,CACdtC,GAAIqC,EAAQG,QACZC,SAAUJ,EAAQK,UAAUC,SAAS,KAAON,EAAQK,UAAUE,MAAM,KAAK,GAAKP,EAAQK,UACtFG,YAAaR,EAAQK,UAAUC,SAAS,KAAON,EAAQK,UAAUE,MAAM,KAAK,GAAK,GACjFE,MAAOT,EAAQU,WACfC,SAAUX,EAAQY,cAClBC,MAAOd,EAAWe,iBAAgB,IAGtCvB,EAAYU,GACLA,KAaHc,UAAW,SAAUhE,GAAS,OAAOiE,QAAQC,IAAIlE,EAAO","sources":["webpack:///./src/components/Button/index.scss","webpack:///./src/components/Button/index.tsx","webpack:///./src/routes/Login/hooks/useLocales.tsx","webpack:///./src/routes/Login/layout/index.scss","webpack:///./src/routes/Login/layout/index.tsx","webpack:///./src/services/OAth/index.scss","webpack:///./src/services/OAth/LoginButton.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button___MLezn\",\"filled\":\"filled___l65P6\",\"S\":\"S___iH1pW\",\"M\":\"M___texFT\",\"L\":\"L___XDhRo\",\"preloader\":\"preloader___mpJg0\",\"preloader1\":\"preloader1___wYTxn\",\"preloader2\":\"preloader2___k55xM\",\"preloader3\":\"preloader3___P258E\"};","import React from 'react';\nimport styles from './index.scss';\nvar Button = function (_a) {\n    var onClick = _a.onClick, label = _a.label, isActive = _a.isActive, isLoading = _a.isLoading, disabled = _a.disabled, size = _a.size;\n    var preloader = (React.createElement(\"span\", { className: styles.preloader },\n        React.createElement(\"span\", null),\n        React.createElement(\"span\", null),\n        React.createElement(\"span\", null)));\n    return (React.createElement(\"button\", { type: 'button', disabled: disabled, className: \"\".concat(styles.button, \" \").concat(isActive ? styles.filled : '', \" \").concat(size ? styles[size] : ''), onClick: onClick, \"aria-label\": label }, !isLoading ? label : preloader));\n};\nexport default Button;\n","import i18n from 'i18next';\nvar useLocales = function () {\n    var SECTION_TITLE = i18n.t('pages.login.title');\n    var EMAIL = i18n.t('pages.login.form.email');\n    var PASSWORD = i18n.t('pages.login.form.password');\n    var SUBMIT = i18n.t('pages.login.form.submit');\n    return {\n        SECTION_TITLE: SECTION_TITLE,\n        EMAIL: EMAIL,\n        PASSWORD: PASSWORD,\n        SUBMIT: SUBMIT\n    };\n};\nexport default useLocales;\n","// extracted by mini-css-extract-plugin\nexport default {\"appWrapper\":\"appWrapper___hq5Qk\",\"container\":\"container___nQTHM\",\"loginWrap\":\"loginWrap___rRZMi\",\"extra\":\"extra___WpD3D\",\"appHeader\":\"appHeader___ZnEC5 extra___WpD3D\",\"body\":\"body___TpVhk\",\"bodyImg\":\"bodyImg___Xx7i7\",\"appFooter\":\"appFooter___DNxdH extra___WpD3D\",\"headline\":\"headline___u8QGX\",\"formWrap\":\"formWrap___JR9IE\",\"contentWrap\":\"contentWrap___gr6Il\",\"input\":\"input___QZiUW\",\"text\":\"text___NAyN9\",\"floatLabel\":\"floatLabel___TJMMj\",\"error\":\"error___GuL60\",\"socialWrap\":\"socialWrap___KIDVi\",\"label\":\"label___eAllQ\",\"darkMode\":\"darkMode___kb3bC\"};","import React, { useEffect, useRef, memo } from 'react';\nimport { push } from 'connected-react-router';\nimport { withRouter } from 'react-router';\nimport { useSelector, useDispatch } from 'react-redux';\nimport GoogleOAthLoginButton from '../../../services/OAth/LoginButton';\nimport Button from '../../../components/Button';\nimport { setLoginInput, setSocialData, loadLoginDataAttempt } from '../modules/actions';\nimport useLocales from '../hooks/useLocales';\nimport getLangPrefix from '../../../utils/gelLangPrefix';\nimport styles from './index.scss';\nvar Login = memo(function () {\n    var _a = useLocales(), SECTION_TITLE = _a.SECTION_TITLE, EMAIL = _a.EMAIL, PASSWORD = _a.PASSWORD, SUBMIT = _a.SUBMIT;\n    var ref = useRef(null);\n    var dispatch = useDispatch();\n    var _b = useSelector(function (_a) {\n        var login = _a.login;\n        return login;\n    }), userdata = _b.userdata, password = _b.password, isLoginFetch = _b.isLoginFetch, error = _b.error;\n    var _c = useSelector(function (_a) {\n        var app = _a.app;\n        return app;\n    }), isLogged = _c.isLogged, locale = _c.locale;\n    useEffect(function () {\n        // @ts-ignore\n        window.prerenderReady = true;\n        ref.current.focus();\n    }, []);\n    useEffect(function () {\n        if (isLogged) {\n            dispatch(push(\"\".concat(getLangPrefix(locale), \"profile\")));\n        }\n    }, [isLogged]);\n    var _handleInput = function (_a) {\n        var target = _a.target;\n        var id = target.id, value = target.value;\n        dispatch(setLoginInput({ id: id, value: value }));\n    };\n    var _handleSubmit = function () {\n        dispatch(loadLoginDataAttempt());\n    };\n    var _handleSocialSubmit = function (userData) {\n        dispatch(setSocialData(userData));\n    };\n    var _handleSubmitKeyDown = function (event) {\n        event.code === 'Enter' && _handleSubmit();\n    };\n    return (React.createElement(\"div\", { className: styles.loginWrap },\n        React.createElement(\"h1\", { className: styles.headline }, SECTION_TITLE),\n        React.createElement(\"div\", { className: styles.contentWrap },\n            React.createElement(\"label\", { htmlFor: 'userdata', className: \"\".concat(styles.text, \" \").concat(styles.floatLabel) }, EMAIL),\n            React.createElement(\"input\", { id: 'userdata', name: 'userdata', type: 'text', ref: ref, disabled: isLoginFetch, className: styles.input, value: userdata, onChange: _handleInput, onKeyDown: _handleSubmitKeyDown })),\n        React.createElement(\"div\", { className: styles.contentWrap },\n            React.createElement(\"label\", { htmlFor: 'password', className: \"\".concat(styles.text, \" \").concat(styles.floatLabel) }, PASSWORD),\n            React.createElement(\"input\", { id: 'password', className: styles.input, disabled: isLoginFetch, name: 'password', type: 'password', value: password, onChange: _handleInput, onKeyDown: _handleSubmitKeyDown })),\n        React.createElement(Button, { onClick: _handleSubmit, disabled: !password || !userdata, isLoading: isLoginFetch, isActive: !!(password && userdata), label: SUBMIT }),\n        error && React.createElement(\"span\", { className: styles.error }, error),\n        React.createElement(\"div\", { className: styles.socialWrap },\n            React.createElement(\"span\", { className: styles.label }, \"Use Social Links to Login:\"),\n            React.createElement(GoogleOAthLoginButton, { callback: _handleSocialSubmit }))));\n});\nexport default withRouter(Login);\n","// extracted by mini-css-extract-plugin\nexport default {\"loginWrap\":\"loginWrap___t9k2o\"};","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState, memo } from 'react';\nimport { SignInButton } from 'react-gapi-auth2';\nimport styles from './index.scss';\nvar GoogleOAthLoginButton = function (_a) {\n    var callback = _a.callback;\n    var _b = __read(useState(null), 2), userData = _b[0], setUserData = _b[1];\n    var getOnSignInData = function (googleUser) {\n        var profile = googleUser.getBasicProfile();\n        var newUserData = {\n            id: profile.getId(),\n            username: profile.getName().includes(' ') ? profile.getName().split(' ')[0] : profile.getName(),\n            usersurname: profile.getName().includes(' ') ? profile.getName().split(' ')[1] : '',\n            email: profile.getEmail(),\n            imagesrc: profile.getImageUrl(),\n            token: googleUser.getAuthResponse(true)\n        };\n        // prevent extensive rerenders\n        setUserData(newUserData);\n        return newUserData;\n    };\n    var _createLoginButtonConfig = function () {\n        return {\n            width: 200,\n            height: 50,\n            theme: 'light',\n            onsuccess: function (data) {\n                if (userData) {\n                    return;\n                }\n                callback(getOnSignInData(data));\n            },\n            onfailure: function (error) { return console.log(error, 'error'); }\n        };\n    };\n    return (React.createElement(\"div\", { className: styles.loginWrap },\n        React.createElement(SignInButton, { options: _createLoginButtonConfig() })));\n};\nexport default memo(GoogleOAthLoginButton);\n"],"names":["_a","onClick","label","isActive","isLoading","disabled","size","preloader","className","type","concat","SECTION_TITLE","EMAIL","PASSWORD","SUBMIT","Login","memo","ref","useRef","dispatch","_b","login","userdata","password","isLoginFetch","error","_c","app","isLogged","locale","useEffect","window","prerenderReady","current","focus","_handleInput","target","id","value","_handleSubmit","_handleSubmitKeyDown","event","code","htmlFor","name","onChange","onKeyDown","Button","callback","userData","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","useState","setUserData","SignInButton","options","width","height","theme","onsuccess","data","googleUser","profile","newUserData","getBasicProfile","getId","username","getName","includes","split","usersurname","email","getEmail","imagesrc","getImageUrl","token","getAuthResponse","onfailure","console","log"],"sourceRoot":""}